<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regex</title>
    <link rel="stylesheet" href="../tailwind-components/style/output.css">
</head>

<body>
    <div class="p-10 md:flex">
        <div class="md:w-[36rem] lg:w-96 md:mx-auto">
            <label for="username" class="block text-sm font-medium leading-6 text-gray-900 md:basis-full">Username</label>
            <div class="relative mt-2 rounded-md shadow-sm">
                <input type="text" name="username" id="input" class="block w-full rounded-md border-0 py-1.5 px-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Masukkan username anda">
            </div>
            <p class="mt-1 text-gray-800 text-sm md:basis-full">Harus menggunakan huruf kecil atau angka dan hanya satu kata</p>
            <p id="validasi" class="mt-1"></p>
        </div>
    </div>
    <script>
        let regexInputLuthfi = document.getElementById("input");
        let luhtfiValidasi = document.getElementById("validasi");

        const REGEX_LUTHFI = new RegExp("^[a-z0-9]+$"); // ^([A-Z][a-z]+\\s)*([A-Z][a-z]+)$

        regexInputLuthfi.addEventListener("input", () => {
            if(regexInputLuthfi.value === ""){
                luhtfiValidasi.classList.remove("text-green-500");
                luhtfiValidasi.classList.remove("text-red-500");
                regexInputLuthfi.classList.add("focus:ring-indigo-600");
                regexInputLuthfi.classList.remove("focus:ring-red-500");
                regexInputLuthfi.classList.remove("focus:ring-green-500");
                regexInputLuthfi.classList.add("ring-grey-300");
                regexInputLuthfi.classList.remove("ring-red-500");
                regexInputLuthfi.classList.remove("ring-green-500");
                luhtfiValidasi.innerHTML = "";
            }else if(REGEX_LUTHFI.test(regexInputLuthfi.value)){
                luhtfiValidasi.classList.add("text-green-500");
                luhtfiValidasi.classList.remove("text-red-500");
                regexInputLuthfi.classList.remove("focus:ring-indigo-600");
                regexInputLuthfi.classList.remove("focus:ring-red-500");
                regexInputLuthfi.classList.add("focus:ring-green-500");
                regexInputLuthfi.classList.remove("ring-grey-300");
                regexInputLuthfi.classList.remove("ring-red-500");
                regexInputLuthfi.classList.add("ring-green-500");
                luhtfiValidasi.innerHTML = "Valid";
            }else{
                luhtfiValidasi.classList.add("text-red-500");
                luhtfiValidasi.classList.remove("text-green-500");
                regexInputLuthfi.classList.remove("focus:ring-indigo-600");
                regexInputLuthfi.classList.remove("focus:ring-green-500");
                regexInputLuthfi.classList.add("focus:ring-red-500");
                regexInputLuthfi.classList.remove("ring-grey-300");
                regexInputLuthfi.classList.remove("ring-green-500");
                regexInputLuthfi.classList.add("ring-red-500");
                luhtfiValidasi.innerHTML = "Invalid";
            }
        });
    </script>
</body>

</html>